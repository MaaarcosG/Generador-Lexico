# Este es el scanner que se generara con las reglas establecidas por ./Inputs/Aritmetica.ATG

import os
import sys
sys.path.insert(0, os.path.abspath(os.path.join(os.path.dirname(__file__), "..")))
from structure_tokens import State, Automata, Token, Handler
from utils import ecerradura_node, simulate_dfa_direct
from analysis import terminacion_compilador

class Production_Parse:
	def __init__(self, tokens):
		self.tokens = tokens
		self.counter_tokens = 0
		self.first_token = self.tokens[self.counter_tokens]
		self.last_token = ''

	def operation_tokens( self ):
		self.counter_tokens += 1
		if self.counter_tokens < len(self.tokens):
			self.first_token = self.tokens[self.counter_tokens]
			self.last_token = self.tokens[self.counter_tokens - 1]

	def expect(self, item, arg = None):
		counter_tokens = self.counter_tokens
		possible = False
		if item != None:
			try:
				if arg == None:
					ans = item()
				else:
					ans = item(arg)
				# si es booleano
				if type(ans) == bool:
					possible = ans
				else:
					possible = True
			except:
				possible = False
		self.counter_tokens = counter_tokens
		self.first_token = self.tokens[self.counter_tokens]
		self.last_token = self.tokens[self.counter_tokens - 1]
		return possible

	def read_token(self, item, type = False):
		if type:
			if self.first_token.type == item:
				self.operation_tokens()
				return True
			else:
				return False
		else:
			if self.first_token.value == item:
				self.operation_tokens()
				return True
			else:
				return False

	# COMIENZA LAS EVALUACIONES DE LAS PRODUCCIOENS
	# funcion Expr
	def Expr(self):
		while self.expect(self.Stat,) :
			self.Stat()
			self.read_token(";")
		self.read_token(".")

	# funcion Stat
	def Stat(self):
		value = 0
		value=self.Expression(value)
		print(str(value))

	# funcion Expression
	def Expression(self,result):
		result1, result2 = 0, 0
		result1=self.Term(result1)
		while self.expect(self.read_token,"+") or self.expect(self.read_token,"-") :
			if self.expect(self.read_token,"+"	):
				self.read_token("+")
				result2=self.Term(result2)
				result1+=result2
	
			elif self.expect(self.read_token,"-"):
				self.read_token("-")
				result2=self.Term(result2)
				result1-=result2
		result=result1
		return result

	# funcion Term
	def Term(self,result):
		result1, result2 =  0,0
		result1=self.Factor(result1)
		while self.expect(self.read_token,"*") or self.expect(self.read_token,"/") :
			if self.expect(self.read_token,"*"	):
				self.read_token("*")
				result2=self.Factor(result2)
				result1*=result2
	
			elif self.expect(self.read_token,"/"):
				self.read_token("/")
				result2=self.Factor(result2)
				result1/=result2
		result=result1
		return result

	# funcion Factor
	def Factor(self,result):
		signo=1
		if self.expect(self.read_token,'-'):
			self.read_token("-")
			signo = -1
		if self.expect(self.Number,result):
			result=self.Number(result)
			
		elif self.expect(self.read_token,"("):
			self.read_token("(")
			result=self.Expression(result)
			self.read_token(")")
		result*=signo
		return result

	# funcion Number
	def Number(self,result):
		self.read_token('number', True)
		result = int(self.last_token.value)
		return result


def generate_transition_automata():
	automatas = []
	automata0 = Automata("parse_aritmetica")
	node= State(0)
	transition = Handler('w', 1)
	node.transitions.append(transition)
	transition = Handler('h', 2)
	node.transitions.append(transition)
	transition = Handler('i', 3)
	node.transitions.append(transition)
	transition = Handler('l', 2)
	node.transitions.append(transition)
	transition = Handler('e', 2)
	node.transitions.append(transition)
	transition = Handler('d', 4)
	node.transitions.append(transition)
	transition = Handler('o', 2)
	node.transitions.append(transition)
	transition = Handler('f', 2)
	node.transitions.append(transition)
	transition = Handler('A', 2)
	node.transitions.append(transition)
	transition = Handler('B', 2)
	node.transitions.append(transition)
	transition = Handler('C', 2)
	node.transitions.append(transition)
	transition = Handler('D', 2)
	node.transitions.append(transition)
	transition = Handler('E', 2)
	node.transitions.append(transition)
	transition = Handler('F', 2)
	node.transitions.append(transition)
	transition = Handler('G', 2)
	node.transitions.append(transition)
	transition = Handler('H', 2)
	node.transitions.append(transition)
	transition = Handler('I', 2)
	node.transitions.append(transition)
	transition = Handler('J', 2)
	node.transitions.append(transition)
	transition = Handler('K', 2)
	node.transitions.append(transition)
	transition = Handler('L', 2)
	node.transitions.append(transition)
	transition = Handler('M', 2)
	node.transitions.append(transition)
	transition = Handler('N', 2)
	node.transitions.append(transition)
	transition = Handler('O', 2)
	node.transitions.append(transition)
	transition = Handler('P', 2)
	node.transitions.append(transition)
	transition = Handler('Q', 2)
	node.transitions.append(transition)
	transition = Handler('R', 2)
	node.transitions.append(transition)
	transition = Handler('S', 2)
	node.transitions.append(transition)
	transition = Handler('T', 2)
	node.transitions.append(transition)
	transition = Handler('U', 2)
	node.transitions.append(transition)
	transition = Handler('V', 2)
	node.transitions.append(transition)
	transition = Handler('W', 2)
	node.transitions.append(transition)
	transition = Handler('X', 2)
	node.transitions.append(transition)
	transition = Handler('Y', 2)
	node.transitions.append(transition)
	transition = Handler('Z', 2)
	node.transitions.append(transition)
	transition = Handler('a', 2)
	node.transitions.append(transition)
	transition = Handler('b', 2)
	node.transitions.append(transition)
	transition = Handler('c', 2)
	node.transitions.append(transition)
	transition = Handler('g', 2)
	node.transitions.append(transition)
	transition = Handler('j', 2)
	node.transitions.append(transition)
	transition = Handler('k', 2)
	node.transitions.append(transition)
	transition = Handler('m', 2)
	node.transitions.append(transition)
	transition = Handler('n', 2)
	node.transitions.append(transition)
	transition = Handler('p', 2)
	node.transitions.append(transition)
	transition = Handler('q', 2)
	node.transitions.append(transition)
	transition = Handler('r', 2)
	node.transitions.append(transition)
	transition = Handler('s', 2)
	node.transitions.append(transition)
	transition = Handler('t', 2)
	node.transitions.append(transition)
	transition = Handler('u', 2)
	node.transitions.append(transition)
	transition = Handler('v', 2)
	node.transitions.append(transition)
	transition = Handler('x', 2)
	node.transitions.append(transition)
	transition = Handler('y', 2)
	node.transitions.append(transition)
	transition = Handler('z', 2)
	node.transitions.append(transition)
	transition = Handler('0', 5)
	node.transitions.append(transition)
	transition = Handler('1', 5)
	node.transitions.append(transition)
	transition = Handler('2', 5)
	node.transitions.append(transition)
	transition = Handler('3', 5)
	node.transitions.append(transition)
	transition = Handler('4', 5)
	node.transitions.append(transition)
	transition = Handler('5', 5)
	node.transitions.append(transition)
	transition = Handler('6', 5)
	node.transitions.append(transition)
	transition = Handler('7', 5)
	node.transitions.append(transition)
	transition = Handler('8', 5)
	node.transitions.append(transition)
	transition = Handler('9', 5)
	node.transitions.append(transition)
	transition = Handler(';', 6)
	node.transitions.append(transition)
	transition = Handler('.', 6)
	node.transitions.append(transition)
	transition = Handler('-', 6)
	node.transitions.append(transition)
	transition = Handler('/', 6)
	node.transitions.append(transition)
	automata0.states.append(node)
	node= State(1)
	node.accept = True
	transition = Handler('w', 2)
	node.transitions.append(transition)
	transition = Handler('h', 7)
	node.transitions.append(transition)
	transition = Handler('i', 2)
	node.transitions.append(transition)
	transition = Handler('l', 2)
	node.transitions.append(transition)
	transition = Handler('e', 2)
	node.transitions.append(transition)
	transition = Handler('d', 2)
	node.transitions.append(transition)
	transition = Handler('o', 2)
	node.transitions.append(transition)
	transition = Handler('f', 2)
	node.transitions.append(transition)
	transition = Handler('A', 2)
	node.transitions.append(transition)
	transition = Handler('B', 2)
	node.transitions.append(transition)
	transition = Handler('C', 2)
	node.transitions.append(transition)
	transition = Handler('D', 2)
	node.transitions.append(transition)
	transition = Handler('E', 2)
	node.transitions.append(transition)
	transition = Handler('F', 2)
	node.transitions.append(transition)
	transition = Handler('G', 2)
	node.transitions.append(transition)
	transition = Handler('H', 2)
	node.transitions.append(transition)
	transition = Handler('I', 2)
	node.transitions.append(transition)
	transition = Handler('J', 2)
	node.transitions.append(transition)
	transition = Handler('K', 2)
	node.transitions.append(transition)
	transition = Handler('L', 2)
	node.transitions.append(transition)
	transition = Handler('M', 2)
	node.transitions.append(transition)
	transition = Handler('N', 2)
	node.transitions.append(transition)
	transition = Handler('O', 2)
	node.transitions.append(transition)
	transition = Handler('P', 2)
	node.transitions.append(transition)
	transition = Handler('Q', 2)
	node.transitions.append(transition)
	transition = Handler('R', 2)
	node.transitions.append(transition)
	transition = Handler('S', 2)
	node.transitions.append(transition)
	transition = Handler('T', 2)
	node.transitions.append(transition)
	transition = Handler('U', 2)
	node.transitions.append(transition)
	transition = Handler('V', 2)
	node.transitions.append(transition)
	transition = Handler('W', 2)
	node.transitions.append(transition)
	transition = Handler('X', 2)
	node.transitions.append(transition)
	transition = Handler('Y', 2)
	node.transitions.append(transition)
	transition = Handler('Z', 2)
	node.transitions.append(transition)
	transition = Handler('a', 2)
	node.transitions.append(transition)
	transition = Handler('b', 2)
	node.transitions.append(transition)
	transition = Handler('c', 2)
	node.transitions.append(transition)
	transition = Handler('g', 2)
	node.transitions.append(transition)
	transition = Handler('j', 2)
	node.transitions.append(transition)
	transition = Handler('k', 2)
	node.transitions.append(transition)
	transition = Handler('m', 2)
	node.transitions.append(transition)
	transition = Handler('n', 2)
	node.transitions.append(transition)
	transition = Handler('p', 2)
	node.transitions.append(transition)
	transition = Handler('q', 2)
	node.transitions.append(transition)
	transition = Handler('r', 2)
	node.transitions.append(transition)
	transition = Handler('s', 2)
	node.transitions.append(transition)
	transition = Handler('t', 2)
	node.transitions.append(transition)
	transition = Handler('u', 2)
	node.transitions.append(transition)
	transition = Handler('v', 2)
	node.transitions.append(transition)
	transition = Handler('x', 2)
	node.transitions.append(transition)
	transition = Handler('y', 2)
	node.transitions.append(transition)
	transition = Handler('z', 2)
	node.transitions.append(transition)
	transition = Handler('0', 2)
	node.transitions.append(transition)
	transition = Handler('1', 2)
	node.transitions.append(transition)
	transition = Handler('2', 2)
	node.transitions.append(transition)
	transition = Handler('3', 2)
	node.transitions.append(transition)
	transition = Handler('4', 2)
	node.transitions.append(transition)
	transition = Handler('5', 2)
	node.transitions.append(transition)
	transition = Handler('6', 2)
	node.transitions.append(transition)
	transition = Handler('7', 2)
	node.transitions.append(transition)
	transition = Handler('8', 2)
	node.transitions.append(transition)
	transition = Handler('9', 2)
	node.transitions.append(transition)
	automata0.states.append(node)
	node= State(2)
	node.accept = True
	transition = Handler('w', 2)
	node.transitions.append(transition)
	transition = Handler('h', 2)
	node.transitions.append(transition)
	transition = Handler('i', 2)
	node.transitions.append(transition)
	transition = Handler('l', 2)
	node.transitions.append(transition)
	transition = Handler('e', 2)
	node.transitions.append(transition)
	transition = Handler('d', 2)
	node.transitions.append(transition)
	transition = Handler('o', 2)
	node.transitions.append(transition)
	transition = Handler('f', 2)
	node.transitions.append(transition)
	transition = Handler('A', 2)
	node.transitions.append(transition)
	transition = Handler('B', 2)
	node.transitions.append(transition)
	transition = Handler('C', 2)
	node.transitions.append(transition)
	transition = Handler('D', 2)
	node.transitions.append(transition)
	transition = Handler('E', 2)
	node.transitions.append(transition)
	transition = Handler('F', 2)
	node.transitions.append(transition)
	transition = Handler('G', 2)
	node.transitions.append(transition)
	transition = Handler('H', 2)
	node.transitions.append(transition)
	transition = Handler('I', 2)
	node.transitions.append(transition)
	transition = Handler('J', 2)
	node.transitions.append(transition)
	transition = Handler('K', 2)
	node.transitions.append(transition)
	transition = Handler('L', 2)
	node.transitions.append(transition)
	transition = Handler('M', 2)
	node.transitions.append(transition)
	transition = Handler('N', 2)
	node.transitions.append(transition)
	transition = Handler('O', 2)
	node.transitions.append(transition)
	transition = Handler('P', 2)
	node.transitions.append(transition)
	transition = Handler('Q', 2)
	node.transitions.append(transition)
	transition = Handler('R', 2)
	node.transitions.append(transition)
	transition = Handler('S', 2)
	node.transitions.append(transition)
	transition = Handler('T', 2)
	node.transitions.append(transition)
	transition = Handler('U', 2)
	node.transitions.append(transition)
	transition = Handler('V', 2)
	node.transitions.append(transition)
	transition = Handler('W', 2)
	node.transitions.append(transition)
	transition = Handler('X', 2)
	node.transitions.append(transition)
	transition = Handler('Y', 2)
	node.transitions.append(transition)
	transition = Handler('Z', 2)
	node.transitions.append(transition)
	transition = Handler('a', 2)
	node.transitions.append(transition)
	transition = Handler('b', 2)
	node.transitions.append(transition)
	transition = Handler('c', 2)
	node.transitions.append(transition)
	transition = Handler('g', 2)
	node.transitions.append(transition)
	transition = Handler('j', 2)
	node.transitions.append(transition)
	transition = Handler('k', 2)
	node.transitions.append(transition)
	transition = Handler('m', 2)
	node.transitions.append(transition)
	transition = Handler('n', 2)
	node.transitions.append(transition)
	transition = Handler('p', 2)
	node.transitions.append(transition)
	transition = Handler('q', 2)
	node.transitions.append(transition)
	transition = Handler('r', 2)
	node.transitions.append(transition)
	transition = Handler('s', 2)
	node.transitions.append(transition)
	transition = Handler('t', 2)
	node.transitions.append(transition)
	transition = Handler('u', 2)
	node.transitions.append(transition)
	transition = Handler('v', 2)
	node.transitions.append(transition)
	transition = Handler('x', 2)
	node.transitions.append(transition)
	transition = Handler('y', 2)
	node.transitions.append(transition)
	transition = Handler('z', 2)
	node.transitions.append(transition)
	transition = Handler('0', 2)
	node.transitions.append(transition)
	transition = Handler('1', 2)
	node.transitions.append(transition)
	transition = Handler('2', 2)
	node.transitions.append(transition)
	transition = Handler('3', 2)
	node.transitions.append(transition)
	transition = Handler('4', 2)
	node.transitions.append(transition)
	transition = Handler('5', 2)
	node.transitions.append(transition)
	transition = Handler('6', 2)
	node.transitions.append(transition)
	transition = Handler('7', 2)
	node.transitions.append(transition)
	transition = Handler('8', 2)
	node.transitions.append(transition)
	transition = Handler('9', 2)
	node.transitions.append(transition)
	automata0.states.append(node)
	node= State(3)
	node.accept = True
	transition = Handler('w', 2)
	node.transitions.append(transition)
	transition = Handler('h', 2)
	node.transitions.append(transition)
	transition = Handler('i', 2)
	node.transitions.append(transition)
	transition = Handler('l', 2)
	node.transitions.append(transition)
	transition = Handler('e', 2)
	node.transitions.append(transition)
	transition = Handler('d', 2)
	node.transitions.append(transition)
	transition = Handler('o', 2)
	node.transitions.append(transition)
	transition = Handler('f', 2)
	node.transitions.append(transition)
	transition = Handler('A', 2)
	node.transitions.append(transition)
	transition = Handler('B', 2)
	node.transitions.append(transition)
	transition = Handler('C', 2)
	node.transitions.append(transition)
	transition = Handler('D', 2)
	node.transitions.append(transition)
	transition = Handler('E', 2)
	node.transitions.append(transition)
	transition = Handler('F', 2)
	node.transitions.append(transition)
	transition = Handler('G', 2)
	node.transitions.append(transition)
	transition = Handler('H', 2)
	node.transitions.append(transition)
	transition = Handler('I', 2)
	node.transitions.append(transition)
	transition = Handler('J', 2)
	node.transitions.append(transition)
	transition = Handler('K', 2)
	node.transitions.append(transition)
	transition = Handler('L', 2)
	node.transitions.append(transition)
	transition = Handler('M', 2)
	node.transitions.append(transition)
	transition = Handler('N', 2)
	node.transitions.append(transition)
	transition = Handler('O', 2)
	node.transitions.append(transition)
	transition = Handler('P', 2)
	node.transitions.append(transition)
	transition = Handler('Q', 2)
	node.transitions.append(transition)
	transition = Handler('R', 2)
	node.transitions.append(transition)
	transition = Handler('S', 2)
	node.transitions.append(transition)
	transition = Handler('T', 2)
	node.transitions.append(transition)
	transition = Handler('U', 2)
	node.transitions.append(transition)
	transition = Handler('V', 2)
	node.transitions.append(transition)
	transition = Handler('W', 2)
	node.transitions.append(transition)
	transition = Handler('X', 2)
	node.transitions.append(transition)
	transition = Handler('Y', 2)
	node.transitions.append(transition)
	transition = Handler('Z', 2)
	node.transitions.append(transition)
	transition = Handler('a', 2)
	node.transitions.append(transition)
	transition = Handler('b', 2)
	node.transitions.append(transition)
	transition = Handler('c', 2)
	node.transitions.append(transition)
	transition = Handler('g', 2)
	node.transitions.append(transition)
	transition = Handler('j', 2)
	node.transitions.append(transition)
	transition = Handler('k', 2)
	node.transitions.append(transition)
	transition = Handler('m', 2)
	node.transitions.append(transition)
	transition = Handler('n', 2)
	node.transitions.append(transition)
	transition = Handler('p', 2)
	node.transitions.append(transition)
	transition = Handler('q', 2)
	node.transitions.append(transition)
	transition = Handler('r', 2)
	node.transitions.append(transition)
	transition = Handler('s', 2)
	node.transitions.append(transition)
	transition = Handler('t', 2)
	node.transitions.append(transition)
	transition = Handler('u', 2)
	node.transitions.append(transition)
	transition = Handler('v', 2)
	node.transitions.append(transition)
	transition = Handler('x', 2)
	node.transitions.append(transition)
	transition = Handler('y', 2)
	node.transitions.append(transition)
	transition = Handler('z', 2)
	node.transitions.append(transition)
	transition = Handler('0', 2)
	node.transitions.append(transition)
	transition = Handler('1', 2)
	node.transitions.append(transition)
	transition = Handler('2', 2)
	node.transitions.append(transition)
	transition = Handler('3', 2)
	node.transitions.append(transition)
	transition = Handler('4', 2)
	node.transitions.append(transition)
	transition = Handler('5', 2)
	node.transitions.append(transition)
	transition = Handler('6', 2)
	node.transitions.append(transition)
	transition = Handler('7', 2)
	node.transitions.append(transition)
	transition = Handler('8', 2)
	node.transitions.append(transition)
	transition = Handler('9', 2)
	node.transitions.append(transition)
	automata0.states.append(node)
	node= State(4)
	node.accept = True
	transition = Handler('w', 2)
	node.transitions.append(transition)
	transition = Handler('h', 2)
	node.transitions.append(transition)
	transition = Handler('i', 2)
	node.transitions.append(transition)
	transition = Handler('l', 2)
	node.transitions.append(transition)
	transition = Handler('e', 2)
	node.transitions.append(transition)
	transition = Handler('d', 2)
	node.transitions.append(transition)
	transition = Handler('o', 2)
	node.transitions.append(transition)
	transition = Handler('f', 2)
	node.transitions.append(transition)
	transition = Handler('A', 2)
	node.transitions.append(transition)
	transition = Handler('B', 2)
	node.transitions.append(transition)
	transition = Handler('C', 2)
	node.transitions.append(transition)
	transition = Handler('D', 2)
	node.transitions.append(transition)
	transition = Handler('E', 2)
	node.transitions.append(transition)
	transition = Handler('F', 2)
	node.transitions.append(transition)
	transition = Handler('G', 2)
	node.transitions.append(transition)
	transition = Handler('H', 2)
	node.transitions.append(transition)
	transition = Handler('I', 2)
	node.transitions.append(transition)
	transition = Handler('J', 2)
	node.transitions.append(transition)
	transition = Handler('K', 2)
	node.transitions.append(transition)
	transition = Handler('L', 2)
	node.transitions.append(transition)
	transition = Handler('M', 2)
	node.transitions.append(transition)
	transition = Handler('N', 2)
	node.transitions.append(transition)
	transition = Handler('O', 2)
	node.transitions.append(transition)
	transition = Handler('P', 2)
	node.transitions.append(transition)
	transition = Handler('Q', 2)
	node.transitions.append(transition)
	transition = Handler('R', 2)
	node.transitions.append(transition)
	transition = Handler('S', 2)
	node.transitions.append(transition)
	transition = Handler('T', 2)
	node.transitions.append(transition)
	transition = Handler('U', 2)
	node.transitions.append(transition)
	transition = Handler('V', 2)
	node.transitions.append(transition)
	transition = Handler('W', 2)
	node.transitions.append(transition)
	transition = Handler('X', 2)
	node.transitions.append(transition)
	transition = Handler('Y', 2)
	node.transitions.append(transition)
	transition = Handler('Z', 2)
	node.transitions.append(transition)
	transition = Handler('a', 2)
	node.transitions.append(transition)
	transition = Handler('b', 2)
	node.transitions.append(transition)
	transition = Handler('c', 2)
	node.transitions.append(transition)
	transition = Handler('g', 2)
	node.transitions.append(transition)
	transition = Handler('j', 2)
	node.transitions.append(transition)
	transition = Handler('k', 2)
	node.transitions.append(transition)
	transition = Handler('m', 2)
	node.transitions.append(transition)
	transition = Handler('n', 2)
	node.transitions.append(transition)
	transition = Handler('p', 2)
	node.transitions.append(transition)
	transition = Handler('q', 2)
	node.transitions.append(transition)
	transition = Handler('r', 2)
	node.transitions.append(transition)
	transition = Handler('s', 2)
	node.transitions.append(transition)
	transition = Handler('t', 2)
	node.transitions.append(transition)
	transition = Handler('u', 2)
	node.transitions.append(transition)
	transition = Handler('v', 2)
	node.transitions.append(transition)
	transition = Handler('x', 2)
	node.transitions.append(transition)
	transition = Handler('y', 2)
	node.transitions.append(transition)
	transition = Handler('z', 2)
	node.transitions.append(transition)
	transition = Handler('0', 2)
	node.transitions.append(transition)
	transition = Handler('1', 2)
	node.transitions.append(transition)
	transition = Handler('2', 2)
	node.transitions.append(transition)
	transition = Handler('3', 2)
	node.transitions.append(transition)
	transition = Handler('4', 2)
	node.transitions.append(transition)
	transition = Handler('5', 2)
	node.transitions.append(transition)
	transition = Handler('6', 2)
	node.transitions.append(transition)
	transition = Handler('7', 2)
	node.transitions.append(transition)
	transition = Handler('8', 2)
	node.transitions.append(transition)
	transition = Handler('9', 2)
	node.transitions.append(transition)
	automata0.states.append(node)
	node= State(5)
	node.accept = True
	transition = Handler('0', 5)
	node.transitions.append(transition)
	transition = Handler('1', 5)
	node.transitions.append(transition)
	transition = Handler('2', 5)
	node.transitions.append(transition)
	transition = Handler('3', 5)
	node.transitions.append(transition)
	transition = Handler('4', 5)
	node.transitions.append(transition)
	transition = Handler('5', 5)
	node.transitions.append(transition)
	transition = Handler('6', 5)
	node.transitions.append(transition)
	transition = Handler('7', 5)
	node.transitions.append(transition)
	transition = Handler('8', 5)
	node.transitions.append(transition)
	transition = Handler('9', 5)
	node.transitions.append(transition)
	automata0.states.append(node)
	node= State(6)
	node.accept = True
	automata0.states.append(node)
	node= State(7)
	node.accept = True
	transition = Handler('w', 2)
	node.transitions.append(transition)
	transition = Handler('h', 2)
	node.transitions.append(transition)
	transition = Handler('i', 8)
	node.transitions.append(transition)
	transition = Handler('l', 2)
	node.transitions.append(transition)
	transition = Handler('e', 2)
	node.transitions.append(transition)
	transition = Handler('d', 2)
	node.transitions.append(transition)
	transition = Handler('o', 2)
	node.transitions.append(transition)
	transition = Handler('f', 2)
	node.transitions.append(transition)
	transition = Handler('A', 2)
	node.transitions.append(transition)
	transition = Handler('B', 2)
	node.transitions.append(transition)
	transition = Handler('C', 2)
	node.transitions.append(transition)
	transition = Handler('D', 2)
	node.transitions.append(transition)
	transition = Handler('E', 2)
	node.transitions.append(transition)
	transition = Handler('F', 2)
	node.transitions.append(transition)
	transition = Handler('G', 2)
	node.transitions.append(transition)
	transition = Handler('H', 2)
	node.transitions.append(transition)
	transition = Handler('I', 2)
	node.transitions.append(transition)
	transition = Handler('J', 2)
	node.transitions.append(transition)
	transition = Handler('K', 2)
	node.transitions.append(transition)
	transition = Handler('L', 2)
	node.transitions.append(transition)
	transition = Handler('M', 2)
	node.transitions.append(transition)
	transition = Handler('N', 2)
	node.transitions.append(transition)
	transition = Handler('O', 2)
	node.transitions.append(transition)
	transition = Handler('P', 2)
	node.transitions.append(transition)
	transition = Handler('Q', 2)
	node.transitions.append(transition)
	transition = Handler('R', 2)
	node.transitions.append(transition)
	transition = Handler('S', 2)
	node.transitions.append(transition)
	transition = Handler('T', 2)
	node.transitions.append(transition)
	transition = Handler('U', 2)
	node.transitions.append(transition)
	transition = Handler('V', 2)
	node.transitions.append(transition)
	transition = Handler('W', 2)
	node.transitions.append(transition)
	transition = Handler('X', 2)
	node.transitions.append(transition)
	transition = Handler('Y', 2)
	node.transitions.append(transition)
	transition = Handler('Z', 2)
	node.transitions.append(transition)
	transition = Handler('a', 2)
	node.transitions.append(transition)
	transition = Handler('b', 2)
	node.transitions.append(transition)
	transition = Handler('c', 2)
	node.transitions.append(transition)
	transition = Handler('g', 2)
	node.transitions.append(transition)
	transition = Handler('j', 2)
	node.transitions.append(transition)
	transition = Handler('k', 2)
	node.transitions.append(transition)
	transition = Handler('m', 2)
	node.transitions.append(transition)
	transition = Handler('n', 2)
	node.transitions.append(transition)
	transition = Handler('p', 2)
	node.transitions.append(transition)
	transition = Handler('q', 2)
	node.transitions.append(transition)
	transition = Handler('r', 2)
	node.transitions.append(transition)
	transition = Handler('s', 2)
	node.transitions.append(transition)
	transition = Handler('t', 2)
	node.transitions.append(transition)
	transition = Handler('u', 2)
	node.transitions.append(transition)
	transition = Handler('v', 2)
	node.transitions.append(transition)
	transition = Handler('x', 2)
	node.transitions.append(transition)
	transition = Handler('y', 2)
	node.transitions.append(transition)
	transition = Handler('z', 2)
	node.transitions.append(transition)
	transition = Handler('0', 2)
	node.transitions.append(transition)
	transition = Handler('1', 2)
	node.transitions.append(transition)
	transition = Handler('2', 2)
	node.transitions.append(transition)
	transition = Handler('3', 2)
	node.transitions.append(transition)
	transition = Handler('4', 2)
	node.transitions.append(transition)
	transition = Handler('5', 2)
	node.transitions.append(transition)
	transition = Handler('6', 2)
	node.transitions.append(transition)
	transition = Handler('7', 2)
	node.transitions.append(transition)
	transition = Handler('8', 2)
	node.transitions.append(transition)
	transition = Handler('9', 2)
	node.transitions.append(transition)
	automata0.states.append(node)
	node= State(8)
	node.accept = True
	transition = Handler('w', 2)
	node.transitions.append(transition)
	transition = Handler('h', 2)
	node.transitions.append(transition)
	transition = Handler('i', 2)
	node.transitions.append(transition)
	transition = Handler('l', 9)
	node.transitions.append(transition)
	transition = Handler('e', 2)
	node.transitions.append(transition)
	transition = Handler('d', 2)
	node.transitions.append(transition)
	transition = Handler('o', 2)
	node.transitions.append(transition)
	transition = Handler('f', 2)
	node.transitions.append(transition)
	transition = Handler('A', 2)
	node.transitions.append(transition)
	transition = Handler('B', 2)
	node.transitions.append(transition)
	transition = Handler('C', 2)
	node.transitions.append(transition)
	transition = Handler('D', 2)
	node.transitions.append(transition)
	transition = Handler('E', 2)
	node.transitions.append(transition)
	transition = Handler('F', 2)
	node.transitions.append(transition)
	transition = Handler('G', 2)
	node.transitions.append(transition)
	transition = Handler('H', 2)
	node.transitions.append(transition)
	transition = Handler('I', 2)
	node.transitions.append(transition)
	transition = Handler('J', 2)
	node.transitions.append(transition)
	transition = Handler('K', 2)
	node.transitions.append(transition)
	transition = Handler('L', 2)
	node.transitions.append(transition)
	transition = Handler('M', 2)
	node.transitions.append(transition)
	transition = Handler('N', 2)
	node.transitions.append(transition)
	transition = Handler('O', 2)
	node.transitions.append(transition)
	transition = Handler('P', 2)
	node.transitions.append(transition)
	transition = Handler('Q', 2)
	node.transitions.append(transition)
	transition = Handler('R', 2)
	node.transitions.append(transition)
	transition = Handler('S', 2)
	node.transitions.append(transition)
	transition = Handler('T', 2)
	node.transitions.append(transition)
	transition = Handler('U', 2)
	node.transitions.append(transition)
	transition = Handler('V', 2)
	node.transitions.append(transition)
	transition = Handler('W', 2)
	node.transitions.append(transition)
	transition = Handler('X', 2)
	node.transitions.append(transition)
	transition = Handler('Y', 2)
	node.transitions.append(transition)
	transition = Handler('Z', 2)
	node.transitions.append(transition)
	transition = Handler('a', 2)
	node.transitions.append(transition)
	transition = Handler('b', 2)
	node.transitions.append(transition)
	transition = Handler('c', 2)
	node.transitions.append(transition)
	transition = Handler('g', 2)
	node.transitions.append(transition)
	transition = Handler('j', 2)
	node.transitions.append(transition)
	transition = Handler('k', 2)
	node.transitions.append(transition)
	transition = Handler('m', 2)
	node.transitions.append(transition)
	transition = Handler('n', 2)
	node.transitions.append(transition)
	transition = Handler('p', 2)
	node.transitions.append(transition)
	transition = Handler('q', 2)
	node.transitions.append(transition)
	transition = Handler('r', 2)
	node.transitions.append(transition)
	transition = Handler('s', 2)
	node.transitions.append(transition)
	transition = Handler('t', 2)
	node.transitions.append(transition)
	transition = Handler('u', 2)
	node.transitions.append(transition)
	transition = Handler('v', 2)
	node.transitions.append(transition)
	transition = Handler('x', 2)
	node.transitions.append(transition)
	transition = Handler('y', 2)
	node.transitions.append(transition)
	transition = Handler('z', 2)
	node.transitions.append(transition)
	transition = Handler('0', 2)
	node.transitions.append(transition)
	transition = Handler('1', 2)
	node.transitions.append(transition)
	transition = Handler('2', 2)
	node.transitions.append(transition)
	transition = Handler('3', 2)
	node.transitions.append(transition)
	transition = Handler('4', 2)
	node.transitions.append(transition)
	transition = Handler('5', 2)
	node.transitions.append(transition)
	transition = Handler('6', 2)
	node.transitions.append(transition)
	transition = Handler('7', 2)
	node.transitions.append(transition)
	transition = Handler('8', 2)
	node.transitions.append(transition)
	transition = Handler('9', 2)
	node.transitions.append(transition)
	automata0.states.append(node)
	node= State(9)
	node.accept = True
	transition = Handler('w', 2)
	node.transitions.append(transition)
	transition = Handler('h', 2)
	node.transitions.append(transition)
	transition = Handler('i', 2)
	node.transitions.append(transition)
	transition = Handler('l', 2)
	node.transitions.append(transition)
	transition = Handler('e', 2)
	node.transitions.append(transition)
	transition = Handler('d', 2)
	node.transitions.append(transition)
	transition = Handler('o', 2)
	node.transitions.append(transition)
	transition = Handler('f', 2)
	node.transitions.append(transition)
	transition = Handler('A', 2)
	node.transitions.append(transition)
	transition = Handler('B', 2)
	node.transitions.append(transition)
	transition = Handler('C', 2)
	node.transitions.append(transition)
	transition = Handler('D', 2)
	node.transitions.append(transition)
	transition = Handler('E', 2)
	node.transitions.append(transition)
	transition = Handler('F', 2)
	node.transitions.append(transition)
	transition = Handler('G', 2)
	node.transitions.append(transition)
	transition = Handler('H', 2)
	node.transitions.append(transition)
	transition = Handler('I', 2)
	node.transitions.append(transition)
	transition = Handler('J', 2)
	node.transitions.append(transition)
	transition = Handler('K', 2)
	node.transitions.append(transition)
	transition = Handler('L', 2)
	node.transitions.append(transition)
	transition = Handler('M', 2)
	node.transitions.append(transition)
	transition = Handler('N', 2)
	node.transitions.append(transition)
	transition = Handler('O', 2)
	node.transitions.append(transition)
	transition = Handler('P', 2)
	node.transitions.append(transition)
	transition = Handler('Q', 2)
	node.transitions.append(transition)
	transition = Handler('R', 2)
	node.transitions.append(transition)
	transition = Handler('S', 2)
	node.transitions.append(transition)
	transition = Handler('T', 2)
	node.transitions.append(transition)
	transition = Handler('U', 2)
	node.transitions.append(transition)
	transition = Handler('V', 2)
	node.transitions.append(transition)
	transition = Handler('W', 2)
	node.transitions.append(transition)
	transition = Handler('X', 2)
	node.transitions.append(transition)
	transition = Handler('Y', 2)
	node.transitions.append(transition)
	transition = Handler('Z', 2)
	node.transitions.append(transition)
	transition = Handler('a', 2)
	node.transitions.append(transition)
	transition = Handler('b', 2)
	node.transitions.append(transition)
	transition = Handler('c', 2)
	node.transitions.append(transition)
	transition = Handler('g', 2)
	node.transitions.append(transition)
	transition = Handler('j', 2)
	node.transitions.append(transition)
	transition = Handler('k', 2)
	node.transitions.append(transition)
	transition = Handler('m', 2)
	node.transitions.append(transition)
	transition = Handler('n', 2)
	node.transitions.append(transition)
	transition = Handler('p', 2)
	node.transitions.append(transition)
	transition = Handler('q', 2)
	node.transitions.append(transition)
	transition = Handler('r', 2)
	node.transitions.append(transition)
	transition = Handler('s', 2)
	node.transitions.append(transition)
	transition = Handler('t', 2)
	node.transitions.append(transition)
	transition = Handler('u', 2)
	node.transitions.append(transition)
	transition = Handler('v', 2)
	node.transitions.append(transition)
	transition = Handler('x', 2)
	node.transitions.append(transition)
	transition = Handler('y', 2)
	node.transitions.append(transition)
	transition = Handler('z', 2)
	node.transitions.append(transition)
	transition = Handler('0', 2)
	node.transitions.append(transition)
	transition = Handler('1', 2)
	node.transitions.append(transition)
	transition = Handler('2', 2)
	node.transitions.append(transition)
	transition = Handler('3', 2)
	node.transitions.append(transition)
	transition = Handler('4', 2)
	node.transitions.append(transition)
	transition = Handler('5', 2)
	node.transitions.append(transition)
	transition = Handler('6', 2)
	node.transitions.append(transition)
	transition = Handler('7', 2)
	node.transitions.append(transition)
	transition = Handler('8', 2)
	node.transitions.append(transition)
	transition = Handler('9', 2)
	node.transitions.append(transition)
	automata0.states.append(node)
	automatas.append(automata0)

	automata1 = Automata("while")
	node= State(0)
	transition = Handler('w', 1)
	node.transitions.append(transition)
	automata1.states.append(node)
	node= State(1)
	transition = Handler('h', 2)
	node.transitions.append(transition)
	automata1.states.append(node)
	node= State(2)
	transition = Handler('i', 3)
	node.transitions.append(transition)
	automata1.states.append(node)
	node= State(3)
	transition = Handler('l', 4)
	node.transitions.append(transition)
	automata1.states.append(node)
	node= State(4)
	transition = Handler('e', 5)
	node.transitions.append(transition)
	automata1.states.append(node)
	node= State(5)
	node.accept = True
	automata1.states.append(node)
	automatas.append(automata1)

	automata2 = Automata("do")
	node= State(0)
	transition = Handler('d', 1)
	node.transitions.append(transition)
	automata2.states.append(node)
	node= State(1)
	transition = Handler('o', 2)
	node.transitions.append(transition)
	automata2.states.append(node)
	node= State(2)
	node.accept = True
	automata2.states.append(node)
	automatas.append(automata2)

	automata3 = Automata("if")
	node= State(0)
	transition = Handler('i', 1)
	node.transitions.append(transition)
	automata3.states.append(node)
	node= State(1)
	transition = Handler('f', 2)
	node.transitions.append(transition)
	automata3.states.append(node)
	node= State(2)
	node.accept = True
	automata3.states.append(node)
	automatas.append(automata3)

	automata4 = Automata("ident")
	node= State(0)
	transition = Handler('A', 1)
	node.transitions.append(transition)
	transition = Handler('B', 1)
	node.transitions.append(transition)
	transition = Handler('C', 1)
	node.transitions.append(transition)
	transition = Handler('D', 1)
	node.transitions.append(transition)
	transition = Handler('E', 1)
	node.transitions.append(transition)
	transition = Handler('F', 1)
	node.transitions.append(transition)
	transition = Handler('G', 1)
	node.transitions.append(transition)
	transition = Handler('H', 1)
	node.transitions.append(transition)
	transition = Handler('I', 1)
	node.transitions.append(transition)
	transition = Handler('J', 1)
	node.transitions.append(transition)
	transition = Handler('K', 1)
	node.transitions.append(transition)
	transition = Handler('L', 1)
	node.transitions.append(transition)
	transition = Handler('M', 1)
	node.transitions.append(transition)
	transition = Handler('N', 1)
	node.transitions.append(transition)
	transition = Handler('O', 1)
	node.transitions.append(transition)
	transition = Handler('P', 1)
	node.transitions.append(transition)
	transition = Handler('Q', 1)
	node.transitions.append(transition)
	transition = Handler('R', 1)
	node.transitions.append(transition)
	transition = Handler('S', 1)
	node.transitions.append(transition)
	transition = Handler('T', 1)
	node.transitions.append(transition)
	transition = Handler('U', 1)
	node.transitions.append(transition)
	transition = Handler('V', 1)
	node.transitions.append(transition)
	transition = Handler('W', 1)
	node.transitions.append(transition)
	transition = Handler('X', 1)
	node.transitions.append(transition)
	transition = Handler('Y', 1)
	node.transitions.append(transition)
	transition = Handler('Z', 1)
	node.transitions.append(transition)
	transition = Handler('a', 1)
	node.transitions.append(transition)
	transition = Handler('b', 1)
	node.transitions.append(transition)
	transition = Handler('c', 1)
	node.transitions.append(transition)
	transition = Handler('d', 1)
	node.transitions.append(transition)
	transition = Handler('e', 1)
	node.transitions.append(transition)
	transition = Handler('f', 1)
	node.transitions.append(transition)
	transition = Handler('g', 1)
	node.transitions.append(transition)
	transition = Handler('h', 1)
	node.transitions.append(transition)
	transition = Handler('i', 1)
	node.transitions.append(transition)
	transition = Handler('j', 1)
	node.transitions.append(transition)
	transition = Handler('k', 1)
	node.transitions.append(transition)
	transition = Handler('l', 1)
	node.transitions.append(transition)
	transition = Handler('m', 1)
	node.transitions.append(transition)
	transition = Handler('n', 1)
	node.transitions.append(transition)
	transition = Handler('o', 1)
	node.transitions.append(transition)
	transition = Handler('p', 1)
	node.transitions.append(transition)
	transition = Handler('q', 1)
	node.transitions.append(transition)
	transition = Handler('r', 1)
	node.transitions.append(transition)
	transition = Handler('s', 1)
	node.transitions.append(transition)
	transition = Handler('t', 1)
	node.transitions.append(transition)
	transition = Handler('u', 1)
	node.transitions.append(transition)
	transition = Handler('v', 1)
	node.transitions.append(transition)
	transition = Handler('w', 1)
	node.transitions.append(transition)
	transition = Handler('x', 1)
	node.transitions.append(transition)
	transition = Handler('y', 1)
	node.transitions.append(transition)
	transition = Handler('z', 1)
	node.transitions.append(transition)
	automata4.states.append(node)
	node= State(1)
	node.accept = True
	transition = Handler('A', 1)
	node.transitions.append(transition)
	transition = Handler('B', 1)
	node.transitions.append(transition)
	transition = Handler('C', 1)
	node.transitions.append(transition)
	transition = Handler('D', 1)
	node.transitions.append(transition)
	transition = Handler('E', 1)
	node.transitions.append(transition)
	transition = Handler('F', 1)
	node.transitions.append(transition)
	transition = Handler('G', 1)
	node.transitions.append(transition)
	transition = Handler('H', 1)
	node.transitions.append(transition)
	transition = Handler('I', 1)
	node.transitions.append(transition)
	transition = Handler('J', 1)
	node.transitions.append(transition)
	transition = Handler('K', 1)
	node.transitions.append(transition)
	transition = Handler('L', 1)
	node.transitions.append(transition)
	transition = Handler('M', 1)
	node.transitions.append(transition)
	transition = Handler('N', 1)
	node.transitions.append(transition)
	transition = Handler('O', 1)
	node.transitions.append(transition)
	transition = Handler('P', 1)
	node.transitions.append(transition)
	transition = Handler('Q', 1)
	node.transitions.append(transition)
	transition = Handler('R', 1)
	node.transitions.append(transition)
	transition = Handler('S', 1)
	node.transitions.append(transition)
	transition = Handler('T', 1)
	node.transitions.append(transition)
	transition = Handler('U', 1)
	node.transitions.append(transition)
	transition = Handler('V', 1)
	node.transitions.append(transition)
	transition = Handler('W', 1)
	node.transitions.append(transition)
	transition = Handler('X', 1)
	node.transitions.append(transition)
	transition = Handler('Y', 1)
	node.transitions.append(transition)
	transition = Handler('Z', 1)
	node.transitions.append(transition)
	transition = Handler('a', 1)
	node.transitions.append(transition)
	transition = Handler('b', 1)
	node.transitions.append(transition)
	transition = Handler('c', 1)
	node.transitions.append(transition)
	transition = Handler('d', 1)
	node.transitions.append(transition)
	transition = Handler('e', 1)
	node.transitions.append(transition)
	transition = Handler('f', 1)
	node.transitions.append(transition)
	transition = Handler('g', 1)
	node.transitions.append(transition)
	transition = Handler('h', 1)
	node.transitions.append(transition)
	transition = Handler('i', 1)
	node.transitions.append(transition)
	transition = Handler('j', 1)
	node.transitions.append(transition)
	transition = Handler('k', 1)
	node.transitions.append(transition)
	transition = Handler('l', 1)
	node.transitions.append(transition)
	transition = Handler('m', 1)
	node.transitions.append(transition)
	transition = Handler('n', 1)
	node.transitions.append(transition)
	transition = Handler('o', 1)
	node.transitions.append(transition)
	transition = Handler('p', 1)
	node.transitions.append(transition)
	transition = Handler('q', 1)
	node.transitions.append(transition)
	transition = Handler('r', 1)
	node.transitions.append(transition)
	transition = Handler('s', 1)
	node.transitions.append(transition)
	transition = Handler('t', 1)
	node.transitions.append(transition)
	transition = Handler('u', 1)
	node.transitions.append(transition)
	transition = Handler('v', 1)
	node.transitions.append(transition)
	transition = Handler('w', 1)
	node.transitions.append(transition)
	transition = Handler('x', 1)
	node.transitions.append(transition)
	transition = Handler('y', 1)
	node.transitions.append(transition)
	transition = Handler('z', 1)
	node.transitions.append(transition)
	transition = Handler('0', 1)
	node.transitions.append(transition)
	transition = Handler('1', 1)
	node.transitions.append(transition)
	transition = Handler('2', 1)
	node.transitions.append(transition)
	transition = Handler('3', 1)
	node.transitions.append(transition)
	transition = Handler('4', 1)
	node.transitions.append(transition)
	transition = Handler('5', 1)
	node.transitions.append(transition)
	transition = Handler('6', 1)
	node.transitions.append(transition)
	transition = Handler('7', 1)
	node.transitions.append(transition)
	transition = Handler('8', 1)
	node.transitions.append(transition)
	transition = Handler('9', 1)
	node.transitions.append(transition)
	automata4.states.append(node)
	automatas.append(automata4)

	automata5 = Automata("number")
	node= State(0)
	transition = Handler('0', 1)
	node.transitions.append(transition)
	transition = Handler('1', 1)
	node.transitions.append(transition)
	transition = Handler('2', 1)
	node.transitions.append(transition)
	transition = Handler('3', 1)
	node.transitions.append(transition)
	transition = Handler('4', 1)
	node.transitions.append(transition)
	transition = Handler('5', 1)
	node.transitions.append(transition)
	transition = Handler('6', 1)
	node.transitions.append(transition)
	transition = Handler('7', 1)
	node.transitions.append(transition)
	transition = Handler('8', 1)
	node.transitions.append(transition)
	transition = Handler('9', 1)
	node.transitions.append(transition)
	automata5.states.append(node)
	node= State(1)
	node.accept = True
	transition = Handler('0', 1)
	node.transitions.append(transition)
	transition = Handler('1', 1)
	node.transitions.append(transition)
	transition = Handler('2', 1)
	node.transitions.append(transition)
	transition = Handler('3', 1)
	node.transitions.append(transition)
	transition = Handler('4', 1)
	node.transitions.append(transition)
	transition = Handler('5', 1)
	node.transitions.append(transition)
	transition = Handler('6', 1)
	node.transitions.append(transition)
	transition = Handler('7', 1)
	node.transitions.append(transition)
	transition = Handler('8', 1)
	node.transitions.append(transition)
	transition = Handler('9', 1)
	node.transitions.append(transition)
	automata5.states.append(node)
	automatas.append(automata5)

	# lista para los tokens
	tokens = []

	# comienza la solicitud del archiv
	m_file = input('Ingrese el archivo a evaluar: ')
	prueba = open(m_file)
	data = prueba.read()
	prueba.close()
	last = 0
	# recorremos el archivo abierto
	for i in range(len(data)):
		valid = terminacion_compilador(data, automata0, i)
		if valid:
			if (last != 0) and (i - last > 0):
				while last < i:
					print(data[last], end='')
					last += 1
				print(': False')
			last += len(valid)
			aut = 1
			evaluate_token = Token('Token', valid)
			while aut<len(automatas):
				if (simulate_dfa_direct(automatas[aut], valid)):
					evaluate_token = Token(automatas[aut].id, valid)
					break
				aut += 1
			print('%s = %s' % (evaluate_token.type,evaluate_token.value))
			tokens.append(evaluate_token)
			i += len(valid)
		else:
			break
	parser = Production_Parse(tokens)
	# Operaciones de las expresiones anteriormente analizadas
	print("SE REALIZAN LAS OPERACIONES")
	parser.Expr()

if __name__ == "__main__":
   generate_transition_automata()